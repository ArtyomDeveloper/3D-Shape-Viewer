:root {
    --accent-color: #ff8800;
    --accent-color-gradient: linear-gradient(90deg, rgba(255, 136, 0, 0.5) 0%, rgba(255, 136, 0, 0.15) 100%);
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', sans-serif; background-color: #000; color: #fff; overflow: hidden; }
#c { position: fixed; top: 0; left: 0; width: 100%; height: 100%; }

#visualizer-canvas {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 800px;
    width: 90%;
    height: 120px;
    z-index: 10;
    pointer-events: none;
    mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
}

/* --- Sidebar Styles --- */
.sidebar { position: fixed; top: 0; right: 0; width: 250px; height: 100vh; background: rgba(20, 20, 22, 0.7); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border-left: 1px solid rgba(255, 255, 255, 0.1); box-shadow: -10px 0px 30px rgba(0, 0, 0, 0.3); padding: 30px 0; display: flex; flex-direction: column; }
.sidebar h2, .slider-container, #color-picker { padding-left: 25px; padding-right: 25px; }
.sidebar h2 { font-weight: 500; font-size: 0.8rem; color: rgba(255, 255, 255, 0.6); text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 15px; }
#detail-section, h2[for="color-picker"] { margin-top: 20px; }
.shape-list-container { flex-grow: 1; overflow-y: auto; min-height: 0; padding-left: 25px; padding-right: 10px; }
#shape-list { list-style: none; }
#shape-list li { padding: 13px 20px; margin-bottom: 8px; border-radius: 8px; cursor: pointer; color: rgba(255, 255, 255, 0.8); font-weight: 500; transition: all 0.2s ease-in-out; }
#shape-list li:hover { background-color: rgba(255, 255, 255, 0.08); transform: translateX(-5px); }
#shape-list li.active { background: var(--accent-color-gradient); color: #fff; font-weight: 600; transform: translateX(-5px); border-left: 3px solid var(--accent-color); padding-left: 17px; }

#detail-section { display: flex; flex-direction: column; gap: 15px; }
.slider-container { display: flex; align-items: center; gap: 10px; color: rgba(255, 255, 255, 0.5); }

/* --- SLIDER STYLES (REWRITTEN FOR ROBUSTNESS) --- */
input[type="range"] {
    -webkit-appearance: none; /* Hides the slider so custom styles can be applied */
    appearance: none;
    width: 100%; /* Specific width is required for proper track sizing */
    height: 18px; /* The entire slider area height */
    background: transparent; /* Otherwise white in Chrome */
    cursor: pointer;
}

/* Track styles for Webkit (Chrome, Safari) */
input[type="range"]::-webkit-slider-runnable-track {
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 2px;
}

/* Thumb styles for Webkit */
input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none; /* This is the line that was causing the error without proper context */
    margin-top: -7px; /* Centers thumb on the track */
    width: 18px;
    height: 18px;
    background: #fff;
    border-radius: 50%;
    border: 3px solid var(--accent-color);
}

/* Track styles for Firefox */
input[type="range"]::-moz-range-track {
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 2px;
}

/* Thumb styles for Firefox */
input[type="range"]::-moz-range-thumb {
    width: 15px; /* Firefox uses border-box, so effective size is 15px + 3px border */
    height: 15px;
    background: #fff;
    border-radius: 50%;
    border: 3px solid var(--accent-color);
}
/* --- END OF SLIDER STYLES --- */


#color-picker { width: calc(100% - 50px); height: 50px; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; padding: 5px; background: none; cursor: pointer; transition: border-color 0.2s ease; margin: 0 25px; }
#color-picker:hover { border-color: rgba(255, 255, 255, 0.3); }
#color-picker::-webkit-color-swatch-wrapper { padding: 0; }
#color-picker::-webkit-color-swatch { border: none; border-radius: 5px; }